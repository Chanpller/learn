# 第0章-代码使用技巧

1、通过反射来通用处理请求。

* 创建BaseServlet，通过请求的action参数，转发到不同的请求方法。
* 其他的Servlet全部继承这个BaseServlet，然后只需要写对应的action请求方法即可。

```java
package com.example.java_web;

import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;
import java.lang.reflect.Method;

public class BaseServlet extends HttpServlet {
    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        this.doPost(req,resp);
    }

    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        try {
            Method action = this.getClass().getDeclaredMethod(req.getParameter("action"), HttpServletRequest.class, HttpServletResponse.class);
            action.invoke(this,req,resp);
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
}
```

2、BeanUtils.populate()设置属性

* 通过Map设置bean的属性。Bean必须是javaBean实现属性的set方法。
* 通过解析get/set方法，前三位拆分，然后将第一个字母是大写的转化为小写，得到属性。

```
public static void populate(Object bean, Map properties)
```